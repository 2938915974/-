<!DOCTYPE html><html><head>
      <title>ffmpeg&#x57FA;&#x7840;</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}:root {
  --title-color: #8a6bb8;
  --text-color: #000000;
  --light-text-color: #666666;
  --lighter-text-color: #888888;
  --link-color: #2aa899;
  --code-color: #745fb5;

  --shadow-color: rgb(238, 238, 238);
  --border-quote: rgb(169, 0, 161);
  --border: #e7e7e7;
  --link-bottom: #bbb;
  --shadow: 3px 3px 10px var(--shadow-color);
  --inline-code-bg: #f4f2f9;

  --header-weight: normal;

  --side-bar-bg-color: #fafafa;
  --control-text-color: var(var(--light-text-color));
  --active-file-text-color: var(--title-color);
  --active-file-bg-color: var(--shadow-color);
  --item-hover-bg-color: var(--shadow-color);
  --active-file-border-color: var(var(--title-color));

  --base-font: "Helvetica Neue", -apple-system, debin,
    "Microsoft YaHei", Helvetica, "Nimbus Sans L", Arial, "Liberation Sans",
    "Noto Sans CJK SC", "PingFang SC", "Hiragino Sans GB", "Source Han Sans SC",
    "Source Han Sans CN", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti",
    SimHei, "WenQuanYi Zen Hei Sharp", "Source Sans Pro", sans-serif;
  --title-font: "EB Garamond", Georgia, "Noto Serif", "Noto Serif CJK SC",
    "Nimbus Roman No9 L", "Songti SC", "Source Han Serif SC",
    "Source Han Serif CN", STSong, "AR PL New Sung", "AR PL SungtiL GB", NSimSun,
    SimSun, "TW\-Sung", "WenQuanYi Bitmap Song", "AR PL UMing CN",
    "AR PL UMing HK", "AR PL UMing TW", "AR PL UMing TW MBE", PMingLiU, MingLiU,
    "Ubuntu", "Source Sans Pro", serif;
  --monospace: "JetBrains Mono", "Fira Code", "Cascadia Code", "Sarasa Term SC",
    Monaco, "Deja Vu Sans Mono", Consolas, "Lucida Console", "Andale Mono",
    "Roboto Mono", Courier, Monospace !important;
}

/* 打印 */
@media print {
  html {
    font-size: 0.9rem;
  }

  table,
  pre {
    page-break-inside: avoid;
  }

  pre {
    word-wrap: break-word;
  }
  #write {
    max-width: 100%;
  }
  @page {
    size: A3; /* PDF output size */
    margin-left: 0;
    margin-right: 0;
  }
}
br {line-height:  0.7em;}

html {
  background: #fff;
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-rendering: optimizelegibility;
  -webkit-font-smoothing: initial;
}

body {
  color: var(--text-color);
  -webkit-font-smoothing: antialiased;
  line-height: 1.6rem;
  letter-spacing: 0;
  overflow-x: hidden;
}

/* 页边距 和 页面大小 */
#write {
  font-family: var(--base-font);
  /* max-width: 914px; */
  margin: 0 auto;
  padding: 1rem 4rem;
  padding-bottom: 100px;
}

#write p {
  line-height: 1.6rem;
  word-spacing: 0.05rem;
}

body > *:first-child {
  margin-top: 0 !important;
}

body > *:last-child {
  margin-bottom: 0 !important;
}

/* Link 链接 */
a {
  color: var(--link-color);
  text-decoration: none;
}
#write a {
  border-bottom: 1px solid var(--link-bottom);
}
#write a:hover {
  border-bottom: 1px solid var(--link-color);
  /*   color: var(--link-color);
    text-decoration: none; */
}

.md-content {
  color: var(--light-text-color);
}

/*1,2,3,4,5,6 级标题设置*/
h1,
h2,
h3,
h4,
h5,
h6 {
  position: relative;
  margin-top: 2rem;
  margin-bottom: 1rem;
  font-weight: var(--header-weight);
  line-height: 1.3;
  cursor: text;
  color: var(--title-color);
  font-family: var(--title-font);
}

h1 {
  text-align: center;
  font-size: 3em;
  margin-bottom: 2rem;
}
h1:after {
  content: "";
  display: block;
  margin: 0.2em auto 0;
  width: 6rem;
  height: 2px;
  border-bottom: 2px solid var(--title-color);
}

h2 {
  padding-left: 0.4em;
  margin: 0.2em 0em 0.2em 0;
  font-size: 2.0em;
  border-left: 0.4em solid var(--title-color);
  border-bottom: 2px solid var(--title-color);
}
h3 {
  font-size: 1.6em;
  margin: 0.0em 0em 0em 0;
  display:inline-block;
}
h3:after {
  content: "";
  display: block;
  margin: 0.0em 0em -0.3em 0;
  border-bottom: 2px solid var(--title-color);
}

h4 {
  font-size: 1.4em;
  margin: 0.3em 0em 0em 0;
}
h5 {
  font-size: 1.2em;
  margin: 0.5em 0em -0.5em 0;
}
h6 {
  font-size: 1.1em;
}

p,
blockquote,
ul,
ol,
dl,
table {
  margin: 0.8em 0;
}

/* horizontal rule */
hr {
  margin: 1.5em auto;
  border-top: 1px solid var(--border);
}

/* 列表 */
li > ol,
li > ul {
  margin: 0 0;
}

li p.first {
  display: inline-block;
}

ul,
ol {
  padding-left: 2rem;
}

ul:first-child,
ol:first-child {
  margin-top: 0;
}

ul:last-child,
ol:last-child {
  margin-bottom: 0;
}

#write ol li,
ul li {
  padding-left: 0.1rem;
}

/* 引用，不过我更喜欢叫做注释，就是 > 之后的文字 */
blockquote {
  border-left: 0.3rem solid var(--border-quote);
  background-color: #f5f5f5;
  padding-left: 1em;
  color: var(--light-text-color);
  font-family: var(--base-font);
}

/* 表格 */
table {
  margin-bottom: 1.25rem;
}
table th,
table td {
  padding: 8px;
  line-height: 1.25rem;
  vertical-align: middle;
  border: 1px solid #ddd;
}
table th {
  font-weight: bold;
}
table thead th {
  vertical-align: middle;
}
table tr:nth-child(2n),
thead {
  background-color: #fcfcfc;
}

/* 粗体 */
#write strong {
  padding: 0 2px;
  font-weight: bold;
}
#strong,b{
  font-weight: 100;
}

/* inline code */
#write code,
tt {
  padding: 2px 4px;
  border-radius: 0.3rem;
  font-family: var(--monospace);
  font-size: 0.9rem;
  color: var(--code-color);
  background-color: var(--inline-code-bg);
  margin: 0 2px;
}

#write .md-footnote {
  color: var(--code-color);
  background-color: var(--inline-code-bg);
}

/* highlight. */
#write mark {
  background: rgb(255, 255, 196);
}

#write del {
  padding: 1px 2px;
}

.md-task-list-item > input {
  margin-left: -1.3em;
}

#write pre.md-meta-block {
  padding: 1rem;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border: 0;
  border-radius: 3px;
  color: #777777;
  margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
  bottom: 0.375rem;
}

/* 图片 */
.md-image > .md-meta {
  border-radius: 3px;
  font-family: var(--monospace);
  padding: 2px 0 0 4px;
  font-size: 0.9em;
  color: inherit;
}
/* 图片靠左显示 */
/* p .md-image:only-child {
  width: auto;
  text-align: left;
  margin-left: 2rem;
} */

/* 写![shadow-...]() 显示图片阴影 */
img[alt|="shadow"] {
  box-shadow: var(--shadow);
}

/* TOC: 加粗h2 */
#write a.md-toc-inner {
  line-height: 1.6;
  white-space: pre-line;
  border-bottom: none;
  color: var(--lighter-text-color);
  font-size: 0.9rem;
}
/* .md-toc-h1 {
  display: none;
} */
.md-toc-h2 .md-toc-inner {
  font-weight: bold;
}

header,
.context-menu,
.megamenu-content,
footer {
  font-family: var(--base-font);
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
  visibility: visible;
}

.md-lang {
  color: #b4654d;
}

.html-for-mac .context-menu {
  --item-hover-bg-color: #e6f0fe;
}

/* Code fences */

/* border, bg, font */
.md-fences {
  border: 1px solid var(--border);
  border-radius: 5px;
  background: #fdfdfd !important;
  font-size: 0.9rem;
}
/* 代码框阴影 */
#write pre.md-fences {
  display: block;
  -webkit-overflow-scrolling: touch;
  box-shadow: var(--shadow);
}

.cm-s-inner {
  padding: 0.25rem;
  border-radius: 0.25rem;
}

.cm-s-inner.CodeMirror,
.cm-s-inner .CodeMirror-gutters {
  color: #3a3432 !important;
  border: none;
}

.cm-s-inner .CodeMirror-gutters {
  color: #6d8a88;
}

.cm-s-inner .CodeMirror-linenumber {
  padding: 0 0.1rem 0 0.3rem;
  color: #b8b5b4;
}

.cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: #a34e8f !important;
}

#fences-auto-suggest .active {
  background: #ddd;
}

.cm-s-inner span.cm-comment {
  color: #9daab6;
}
.cm-s-inner span.cm-builtin {
  color: #0451a5;
}

/* language tip */
#write .code-tooltip {
  border: 1px solid var(--border);
}

.auto-suggest-container {
  border-color: #b4b4b4;
}

.auto-suggest-container .autoComplt-hint.active {
  background: #b4b4b4;
  color: inherit;
}

/* task list */
#write .md-task-list-item > input {
  -webkit-appearance: initial;
  display: block;
  position: absolute;
  border: 1px solid #b4b4b4;
  border-radius: 0.2rem;
  margin-top: 0.3rem;
  height: 1rem;
  width: 1rem;
  transition: background 0.3s;
}

#write .md-task-list-item > input:focus {
  outline: none;
  box-shadow: none;
}

#write .md-task-list-item > input:hover {
  background: #ddd;
}

#write .md-task-list-item > input[checked]::before {
  content: "";
  position: absolute;
  top: 20%;
  left: 50%;
  height: 60%;
  width: 2px;
  transform: rotate(40deg);
  background: #333;
}

#write .md-task-list-item > input[checked]::after {
  content: "";
  position: absolute;
  top: 46%;
  left: 25%;
  height: 30%;
  width: 2px;
  transform: rotate(-40deg);
  background: #333;
}

#write .md-task-list-item > p {
  transition: color 0.3s, opacity 0.3s;
}

#write .md-task-list-item.task-list-done > p {
  color: #b4b4b4;
  text-decoration: line-through;
}

#write .md-task-list-item.task-list-done > p > .md-emoji {
  opacity: 0.5;
}

#write .md-task-list-item.task-list-done > p > .md-link > a {
  opacity: 0.6;
}

/* sidebar */
#typora-sidebar,
.typora-node #typora-sidebar {
  box-shadow: 3px 0px 10px var(--shadow-color);
}
.sidebar-content-content {
  font-size: 0.9rem;
}


 /* `` 定义的代码块样式 */
html body code {
  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;
  font-size: 0.95em !important;
  color: rgb(110, 105, 255);
  background-color: #f5f5f5;
  border-radius: 3px;
  padding: .2em 0.2em
}

 /* ``` 未定义或者定义的样式非支持样式的代码块样式
 同时 pre>code 设置 ``` 代码块样式权限大于 `` 的代码块样式，避免被 code 样式覆盖
  html body pre 设置所有代码块样式*/
 html body .highlight pre,
 html body pre,
html body pre>code {
  padding: 0em;
  margin: 1em 0em;
  font-family: "Consolas", "Menlo", "Monaco", monospace, serif;
  color: inherit;
  font-size: 0.9em !important;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0
}













/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~此线之下专门用于测试样式~~~~~~~~~~~~~~~~~~~~~~~ */

.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  font-size: 16px;
  line-height: 1.7em;
  letter-spacing: 0.07em;
}
.markdown-preview.markdown-preview br {
  line-height: 0.8em;
}
@media print {
  .markdown-preview.markdown-preview html {
    font-size: 0.9rem;
  }
  .markdown-preview.markdown-preview table,
  .markdown-preview.markdown-preview pre {
    page-break-inside: avoid;
  }
  .markdown-preview.markdown-preview pre {
    word-wrap: break-word;
  }
  .markdown-preview.markdown-preview #write {
    max-width: 100%;
  }
  @page {
    size: A4;
    /* PDF output size */
    margin-top: 18mm;
    margin-bottom: 18mm;
    margin-left: 12mm;
    margin-right: 12mm;
  }
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="small-rm-ffmpeg-%E5%9F%BA%E7%A1%80"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x57FA;&#x7840;</h1>

<ul>
<li><a href="#small-rm-ffmpeg-%E5%9F%BA%E7%A1%80"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x57FA;&#x7840;</a>
<ul>
<li><a href="#ffmpeg%E8%BD%AC%E7%A0%81%E5%9F%BA%E7%A1%80">ffmpeg&#x8F6C;&#x7801;&#x57FA;&#x7840;</a>
<ul>
<li><a href="#%E6%8C%87%E4%BB%A4%E6%A8%A1%E6%9D%BFcmd%E6%8C%87%E4%BB%A4">&#x6307;&#x4EE4;&#x6A21;&#x677F;&#xFF08;cmd&#x6307;&#x4EE4;&#xFF09;</a></li>
<li><a href="#%E6%8C%87%E4%BB%A4%E8%AF%A6%E8%A7%A3">&#x6307;&#x4EE4;&#x8BE6;&#x89E3;</a></li>
<li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</a></li>
</ul>
</li>
<li><a href="#small-rm-ffmpeg-%E5%A4%9A%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91%E6%B5%81%E5%A4%84%E7%90%86"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x591A;&#x89C6;&#x9891;/&#x97F3;&#x9891;&#x6D41;&#x5904;&#x7406;</a>
<ul>
<li><a href="#%E5%A4%9A%E8%BD%A8%E5%A4%84%E7%90%86%E8%AF%B4%E6%98%8E">&#x591A;&#x8F68;&#x5904;&#x7406;&#x8BF4;&#x660E;</a></li>
<li><a href="#%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A-map-zxy">&#x53C2;&#x6570;&#x89E3;&#x91CA; <code>-map z:x:y</code></a></li>
<li><a href="#%E4%B8%BE%E4%BE%8B%E8%A7%A3%E9%87%8A">&#x4E3E;&#x4F8B;&#x89E3;&#x91CA;</a></li>
</ul>
</li>
<li><a href="#ffmpeg%E8%A7%86%E9%A2%91%E5%88%86%E8%BE%A8%E7%8E%87%E7%BC%A9%E6%94%BE">ffmpeg&#x89C6;&#x9891;&#x5206;&#x8FA8;&#x7387;&#x7F29;&#x653E;</a>
<ul>
<li><a href="#%E7%BC%A9%E6%94%BE%E8%AF%B4%E6%98%8E">&#x7F29;&#x653E;&#x8BF4;&#x660E;</a>
<ul>
<li><a href="#%E4%BB%A3%E7%A0%811-s">&#x4EE3;&#x7801;1 <code>-s</code></a></li>
<li><a href="#%E4%BB%A3%E7%A0%812-scale-filter">&#x4EE3;&#x7801;2 <code>Scale filter</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ffmpeg_x265_10bit%E7%BC%96%E7%A0%81">ffmpeg_x265_10bit&#x7F16;&#x7801;</a>
<ul>
<li><a href="#%E8%AF%B4%E6%98%8E">&#x8BF4;&#x660E;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">&#x4EE3;&#x7801;</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0">&#x5176;&#x4ED6;&#x53C2;&#x6570;</a></li>
</ul>
</li>
<li><a href="#x265-2pass">x265 2pass</a>
<ul>
<li><a href="#%E8%AF%B4%E6%98%8E-1">&#x8BF4;&#x660E;</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81-1">&#x4EE3;&#x7801;</a>
<ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E9%81%8D%E4%BB%A3%E7%A0%81">&#x7B2C;&#x4E00;&#x904D;&#x4EE3;&#x7801;</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E9%81%8D%E7%BC%96%E7%A0%81">&#x7B2C;&#x4E8C;&#x904D;&#x7F16;&#x7801;</a></li>
</ul>
</li>
<li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</a></li>
</ul>
</li>
<li><a href="#ffmpeg%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81">ffmpeg&#x786C;&#x4EF6;&#x89E3;&#x7801;</a>
<ul>
<li><a href="#%E9%80%9A%E7%94%A8%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81dxva2">&#x901A;&#x7528;&#x786C;&#x4EF6;&#x89E3;&#x7801;&#xFF1A;dxva2</a>
<ul>
<li><a href="#%E5%8F%82%E6%95%B0%E8%AF%A6%E7%BB%86">&#x53C2;&#x6570;&#x8BE6;&#x7EC6;</a></li>
</ul>
</li>
<li><a href="#amd%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81amf">amd&#x786C;&#x4EF6;&#x89E3;&#x7801;&#xFF1A;amf</a></li>
<li><a href="#nvidia%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81">nvidia&#x786C;&#x4EF6;&#x89E3;&#x7801;</a></li>
</ul>
</li>
<li><a href="#ffmpeg%E9%9F%B3%E9%A2%91%E8%BD%AC%E7%A0%81%E5%BE%85%E5%AE%8C%E5%96%84">ffmpeg&#x97F3;&#x9891;&#x8F6C;&#x7801;(&#x5F85;&#x5B8C;&#x5584;)</a></li>
<li><a href="#ffmpeg%E8%8E%B7%E5%8F%96ssim%E5%92%8Cpsnr">ffmpeg&#x83B7;&#x53D6;ssim&#x548C;psnr</a>
<ul>
<li><a href="#%E8%AF%B4%E6%98%8E-2">&#x8BF4;&#x660E;</a>
<ul>
<li><a href="#psnr">PSNR</a></li>
<li><a href="#ssim">SSIM</a></li>
</ul>
</li>
<li><a href="#%E4%BB%A3%E7%A0%81-2">&#x4EE3;&#x7801;</a>
<ul>
<li><a href="#%E8%8E%B7%E5%8F%96ssim%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81">&#x83B7;&#x53D6;ssim&#x53C2;&#x8003;&#x4EE3;&#x7801;</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96psnr%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81">&#x83B7;&#x53D6;psnr&#x53C2;&#x8003;&#x4EE3;&#x7801;</a></li>
<li><a href="#%E5%90%8C%E6%97%B6%E8%8E%B7%E5%8F%96ssim%E5%92%8Cpsnr%E4%BB%A3%E7%A0%81">&#x540C;&#x65F6;&#x83B7;&#x53D6;ssim&#x548C;psnr&#x4EE3;&#x7801;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="ffmpeg%E8%BD%AC%E7%A0%81%E5%9F%BA%E7%A1%80">ffmpeg&#x8F6C;&#x7801;&#x57FA;&#x7840;</h2>

<h3 class="mume-header" id="%E6%8C%87%E4%BB%A4%E6%A8%A1%E6%9D%BFcmd%E6%8C%87%E4%BB%A4">&#x6307;&#x4EE4;&#x6A21;&#x677F;&#xFF08;cmd&#x6307;&#x4EE4;&#xFF09;</h3>

<p>&#x8BF4;&#x660E;1. <strong>&#x3010;ffmpeg.exe&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3011;</strong> -i <strong>&#x3010;&#x8981;&#x8F6C;&#x7801;&#x7684;&#x97F3;&#x89C6;&#x9891;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3011;</strong> -c:v <strong>&#x3010;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x5668;&#x3011;</strong> -preset <strong>&#x3010;&#x7F16;&#x7801;&#x7B49;&#x7EA7;&#x3011;</strong> <strong>&#x3010;&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x5934;&#x6587;&#x4EF6;&#x3011;</strong> &quot;<strong>&#x3010;&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x3011;</strong>&quot;  <strong>&#x3010;&#x8F93;&#x51FA;&#x89C6;&#x9891;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3011;</strong></p>
<p>&#x8BF4;&#x660E;2. [ffmpeg.exe&#x5B8C;&#x6574;&#x8DEF;&#x5F84;] <strong>-i</strong> [&#x8981;&#x8F6C;&#x7801;&#x7684;&#x97F3;&#x89C6;&#x9891;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;] <strong>-c:v</strong> [&#x89C6;&#x9891;&#x7F16;&#x7801;&#x5668;] <strong>-preset</strong> [&#x7F16;&#x7801;&#x7B49;&#x7EA7;] <strong>-profile:v</strong> [&#x7F16;&#x7801;&#x5668;&#x6307;&#x4EE4;] <strong>-x265-params</strong>&#xFF08;&#x8FD9;&#x662F;&#x8868;&#x793A;&#x540E;&#x9762;&#x7684;&#x6307;&#x4EE4;&#x4E3A; x265 &#x6307;&#x4EE4;&#xFF0C;&#x4EE5;&#x96C6;&#x7FA4;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x7C7B;&#x5982;&#xFF1A;&quot;&#x7B2C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#xFF1B;&#x7B2C;&#x4E8C;&#x6761;&#x6307;&#x4EE4;&#xFF1A;&#x7B2C;&#x4E09;&#x6761;&#x6307;&#x4EE4;&quot;&#xFF09; [&#x89C6;&#x9891;&#x8F93;&#x51FA;&#x8DEF;&#x5F84;]</p>
<p>&#x5217;&#x5982;&#xFF1A;<code>C:\ffmpeg.exe -i C:\input.mp4 -c:v libx265 -preset veryslow -x265-params &quot;crf=19:no-sao=1&quot; C:\output.mp4</code></p>
<h3 class="mume-header" id="%E6%8C%87%E4%BB%A4%E8%AF%A6%E8%A7%A3">&#x6307;&#x4EE4;&#x8BE6;&#x89E3;</h3>

<p><strong><code>&#x3010;ffmpeg&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3011;</code></strong><br>
ffmpeg &#x8BC6;&#x522B;&#x6307;&#x4EE4;&#x662F;&#x987A;&#x5E8F;&#x8BC6;&#x522B;&#x7684;&#xFF0C; cmd &#x9700;&#x8981;&#x5148;&#x8C03;&#x7528; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x5904;&#x5F00;&#x5934;&#x7ED9;&#x4E86;&#x4E00;&#x4E2A; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x8DEF;&#x5F84;&#x6765;&#x544A;&#x8BC9; cmd &#x6307;&#x4EE4;&#x63A5;&#x53D7;&#x4F4D;&#x7F6E;</p>
<p><strong><code>-i</code></strong><br>
&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x7684;&#x8BC6;&#x522B;&#x53F7;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;</p>
<p><strong><code>-c:v</code></strong><br>
coder &#x548C; video &#x7684;&#x9996;&#x5B57;&#x6BCD;&#xFF0C;&#x9009;&#x62E9; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x5185;&#x7F6E;&#x7684;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x5668;</p>
<p><strong><code>-preset</code></strong> &#xFF08;&#x53EF;&#x9009;&#xFF09;<br>
&#x7F16;&#x7801;&#x7B49;&#x7EA7;&#x9009;&#x62E9;&#xFF0C;&#x5982;&#x679C;&#x7F16;&#x7801;&#x5668;&#x652F;&#x6301;&#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6570;&#x5B57;&#x4EE3;&#x66FF;&#xFF0C;&#x5982; veryslow &#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A; <code>-prsest 8</code> &#xFF0C;&#x4E0D;&#x8BBE;&#x7F6E;&#x65F6;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; medium &#x3002;</p>
<p><strong><code>&#x3010;&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x5934;&#x6587;&#x4EF6;&#x3011;</code></strong> &#xFF08;&#x53EF;&#x9009;&#xFF09;<br>
&#x867D;&#x7136;&#x65F6;&#x53EF;&#x9009;&#xFF0C;&#x4F46;&#x662F;&#x662F; <code>&#x3010;&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x3011;</code> &#x7684;&#x524D;&#x7F6E;&#x8981;&#x6C42;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4ED6;&#x7F16;&#x7801;&#x5668;&#x7684;&#x6CA1;&#x770B;&#x8FC7;&#xFF0C;&#x53EA;&#x77E5;&#x9053;x265&#x7684;&#x662F; <code>-x265-param</code> &#xFF0C;x264&#x7684;&#x662F; <code>-x264-param</code> &#x3002;</p>
<p><strong><code>&#x3010;&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x3011;</code></strong>&#xFF08;&#x53EF;&#x9009;&#xFF09;</p>
<ul>
<li>&#x6B64;&#x9879;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x8981;&#x8BBE;&#x7F6E;&#x4E86; <code>&#x7F16;&#x7801;&#x5668;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x5934;&#x6587;&#x4EF6;</code> &#x624D;&#x80FD;&#x4F7F;&#x7528;&#x3002;</li>
<li>&#x6B64;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5FC5;&#x987B;&#x653E;&#x5728;&#x53CC;&#x5F15;&#x53F7;&#x4E2D;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x653E;&#x7F6E;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4E0D;&#x540C;&#x53C2;&#x6570;&#x9700;&#x8981;&#x7528; <code>:</code> &#x9694;&#x5F00;&#xFF0C;&#x5982; <code>&quot;crf=18:no-sao=1&quot;</code> &#x3002;</li>
<li>&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x9879;&#x53C2;&#x6570;&#x662F;&#x7F16;&#x7801;&#x5668;&#x81EA;&#x5DF1;&#x7684;&#x6307;&#x4EE4;&#x800C;&#x4E0D;&#x662F;ffmpeg&#x89C4;&#x5B9A;&#x7684;&#x6307;&#x4EE4;&#x4E14;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x5982;&#x53C2;&#x6570;&#x672C;&#x6765;&#x5C31;&#x6709;&#x7A7A;&#x683C;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5C06;&#x7A7A;&#x683C;&#x6539;&#x6210; <code>-</code> &#x3002;</li>
<li>&#x65E0;&#x6570;&#x503C;&#x7684;&#x53C2;&#x6570;&#x8981;&#x7528; <code>=1</code> &#x6765;&#x5F15;&#x7528;&#xFF0C;&#x5982;x265&#x53C2;&#x6570; <code>no-sao</code> &#x5728;&#x8FD9;&#x91CC;&#x4E3A; <code>no-sao=1</code> &#xFF1B;x265&#x53C2;&#x6570; <code>pme</code> &#x5728;&#x8FD9;&#x91CC;&#x4E3A;<code>:pme=1</code>&#x3002;</li>
<li>&#x6709;&#x6570;&#x503C;&#x53C2;&#x6570;&#x5C31;&#x76F4;&#x63A5;&#x7B49;&#x4E8E;&#x6570;&#x5B57;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x5982;x265&#x53C2;&#x6570; <code>crf</code> &#x503C;&#x57DF;&#x4E3A; 0~51 &#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x7528; <code>crf=[0~51]</code> &#x6765;&#x8868;&#x793A;&#x6240;&#x9700;&#x8981;&#x7684;&#x503C;&#x3002;</li>
<li>&#x6B64;&#x9879;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x914D;&#x7F6E;&#xFF0C;&#x8BBE;&#x7F6E;&#x7684;&#x5934;&#x6587;&#x4EF6;&#x4E5F;&#x90FD;&#x4E0D;&#x8981;&#x4E86;&#xFF0C;&#x8F6C;&#x7801;&#x7684;&#x503C;&#x4F1A;&#x6309;&#x7167;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7684;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x7F16;&#x7801;&#x7B49;&#x7EA7;&#x5C31;&#x4F1A;&#x6309;&#x7167;&#x7B49;&#x7EA7;&#x7684;&#x53C2;&#x6570;&#x6765;&#x3002;</li>
</ul>
<h3 class="mume-header" id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3>

<ol>
<li>&#x4E0D;&#x540C;&#x89C6;&#x9891;&#x4E0E;&#x97F3;&#x9891;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7684;&#x5C01;&#x88C5;&#x8981;&#x6C42;&#x4E0D;&#x540C;&#x3002;</li>
<li>-x265-params &#x540E;&#x7684;&#x96C6;&#x7FA4;&#x4EE3;&#x7801;&#x5982;&#x679C;&#x6709;&#x9519;&#x8BEF;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#xFF0C;&#x4EE5;&#x8B66;&#x544A;&#x7684;&#x65B9;&#x5F0F;&#x663E;&#x793A;&#xFF0C;&#x4F46;&#x662F;&#x629B;&#x51FA;&#x540E;&#x7A0B;&#x5E8F;&#x4ECD;&#x7136;&#x4F1A;&#x8FD0;&#x884C;&#xFF0C;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x7684;&#x6307;&#x4EE4;&#x7531;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x66FF;&#x6362;&#x3002;</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x4E2D;&#x8868;&#x793A;&#x503C;&#x4E3A; null &#x8981;&#x7528; <code>null -</code> &#x3002;</li>
<li>&#x8FD8;&#x6709;&#x522B;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x66F4;&#x559C;&#x6B22;&#x8FD9;&#x6837; &#x3002;</li>
</ol>
<h2 class="mume-header" id="small-rm-ffmpeg-%E5%A4%9A%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91%E6%B5%81%E5%A4%84%E7%90%86"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x591A;&#x89C6;&#x9891;/&#x97F3;&#x9891;&#x6D41;&#x5904;&#x7406;</h2>

<h3 class="mume-header" id="%E5%A4%9A%E8%BD%A8%E5%A4%84%E7%90%86%E8%AF%B4%E6%98%8E">&#x591A;&#x8F68;&#x5904;&#x7406;&#x8BF4;&#x660E;</h3>

<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</mtext></mrow><annotation encoding="application/x-tex">~~~~~~</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;"></span><span class="mspace nobreak">&#xA0;</span><span class="mspace nobreak">&#xA0;</span><span class="mspace nobreak">&#xA0;</span><span class="mspace nobreak">&#xA0;</span><span class="mspace nobreak">&#xA0;</span><span class="mspace nobreak">&#xA0;</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="normal">f</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">g</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\small {\rm ffmpeg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8em;vertical-align:-0.175em;"></span><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">ffmpeg</span></span></span></span></span></span> &#x9ED8;&#x8BA4;&#x662F;&#x5355;&#x89C6;&#x9891;&#x6D41;&#x548C;&#x5355;&#x97F3;&#x8F68;&#x5904;&#x7406;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x97F3;&#x8F68;&#x6216;&#x8005;&#x89C6;&#x9891;&#x65F6;&#x5C31;&#x9700;&#x8981; <code>-map</code> &#x6307;&#x4EE4;<br>
<strong>&#x53C2;&#x6570;&#x4F4D;&#x7F6E;&#xFF1A;</strong> &#x653E;&#x7F6E;&#x5728;&#x89C6;&#x9891;/&#x97F3;&#x9891;&#x7F16;&#x7801;&#x6307;&#x4EE4;&#x524D;<br>
&#x4F8B;&#x5982;&#xFF1A;<code>F:\ffmpeg.exe -i input.mp4 -map 0:v -c:v libx265 -preset fast -map 0:a -acodec copy out.mp4</code></p>
<h3 class="mume-header" id="%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A-map-zxy">&#x53C2;&#x6570;&#x89E3;&#x91CA; <code>-map z:x:y</code></h3>

<ul>
<li>
<p>z&#x8868;&#x793A;&#x7B2C;&#x51E0;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#xFF0C;&#x6709;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4F1A;&#x540C;&#x65F6;&#x9009;&#x62E9;&#x591A;&#x4E2A;&#x8F93;&#x5165;&#x6E90; &#x503C;&#x7C7B;&#x578B;&#x4E3A; int &#x3002;</p>
</li>
<li>
<p>x&#x76EE;&#x524D;&#x77E5;&#x9053;&#x7684;&#x6709;&#x4E24;&#x4E2A;&#xFF0C; v &#x548C; a &#x3002;v &#x8868;&#x793A; video &#xFF0C;&#x5373;&#x9009;&#x62E9;&#x89C6;&#x9891;&#x6D41; &#xFF1B;a &#x8868;&#x793A; audio &#xFF0C;&#x5373;&#x9009;&#x62E9;&#x97F3;&#x9891;</p>
</li>
<li>
<p>y &#x8868;&#x793A;&#x9009;&#x62E9;&#x7684; &#x97F3;&#x9891; / &#x89C6;&#x9891;&#x6D41; &#xFF0C;&#x6B64;&#x9879;&#x53EF;&#x9009;&#xFF0C;&#x4E0D;&#x586B;&#x5C31;&#x8868;&#x793A;&#x5168;&#x9009;&#xFF0C;&#x503C;&#x7C7B;&#x578B;&#x4E3A;int</p>
</li>
</ul>
<h3 class="mume-header" id="%E4%B8%BE%E4%BE%8B%E8%A7%A3%E9%87%8A">&#x4E3E;&#x4F8B;&#x89E3;&#x91CA;</h3>

<ul>
<li><code>map 0:v</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x7684;&#x6240;&#x6709;&#x89C6;&#x9891;&#x6D41;</li>
<li><code>-map 0:a</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x7684;&#x6240;&#x6709;&#x97F3;&#x9891;&#x6D41;</li>
<li><code>-map 0:v:1</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x89C6;&#x9891;&#x6D41;</li>
<li><code>-map 0:a:1</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x97F3;&#x9891;&#x6D41;</li>
<li><code>-map 1:v</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E8C;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x89C6;&#x9891;&#x6D41;</li>
<li><code>-map 1:a</code> &#xFF1A; &#x8868;&#x793A;&#x9009;&#x62E9;&#x4E86;&#x7B2C;&#x4E8C;&#x4E2A;&#x8F93;&#x5165;&#x6E90;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x97F3;&#x9891;&#x6D41;</li>
</ul>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x91CD;&#x590D;&#xFF0C;&#x7528;&#x4F5C;&#x9009;&#x62E9;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x89C6;&#x9891;&#x6216;&#x97F3;&#x9891;&#x6D41;<br>
&#x5982; <code>F:\ffmpeg.exe -i input.mp4 -map 0:v -c:v libx265 -preset fast -map 0:a:0 -map 0:a:1 -acodec copy out.mp4</code></p>
<h2 class="mume-header" id="ffmpeg%E8%A7%86%E9%A2%91%E5%88%86%E8%BE%A8%E7%8E%87%E7%BC%A9%E6%94%BE">ffmpeg&#x89C6;&#x9891;&#x5206;&#x8FA8;&#x7387;&#x7F29;&#x653E;</h2>

<h3 class="mume-header" id="%E7%BC%A9%E6%94%BE%E8%AF%B4%E6%98%8E">&#x7F29;&#x653E;&#x8BF4;&#x660E;</h3>

<p>&#x901A;&#x8FC7;&#x4E0B;&#x5217;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5C06;&#x8F93;&#x51FA;&#x7684;&#x89C6;&#x9891;&#x5206;&#x8FA8;&#x7387;&#x8FDB;&#x884C;&#x7F29;&#x653E;&#x6216;&#x8005;&#x62C9;&#x4F38;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x5E76;&#x975E; ai &#x7B97;&#x6CD5;&#xFF0C;&#x62C9;&#x4F38;&#x6BEB;&#x65E0;&#x610F;&#x4E49;<br>
&#x6B64;&#x65B9;&#x5F0F;&#x662F; ffmpeg &#x81EA;&#x5E26;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x7F16;&#x7801;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x65B9;&#x5F0F;</p>
<h4 class="mume-header" id="%E4%BB%A3%E7%A0%811-s">&#x4EE3;&#x7801;1 <code>-s</code></h4>

<p>&#x7528;<code>-s</code>&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x89C6;&#x9891;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x53C2;&#x6570;&#x503C; w*h &#xFF0C;w : &#x5BBD;&#x5EA6;&#x5355;&#x4F4D;&#x662F;&#x50CF;&#x7D20;&#xFF0C;h : &#x9AD8;&#x5EA6;&#x5355;&#x4F4D;&#x662F;&#x50CF;&#x7D20;</p>
<ul>
<li>&#x4EE3;&#x7801;&#x6837;&#x5F0F;&#xFF1A;<code>ffmpeg -i input_file -s 320x240 output_file</code></li>
<li>&#x4EE3;&#x7801;&#x4E3E;&#x4F8B;&#xFF1A;<code>ffmpeg -i input.avi -s 640x480 output.avi</code></li>
</ul>
<h4 class="mume-header" id="%E4%BB%A3%E7%A0%812-scale-filter">&#x4EE3;&#x7801;2 <code>Scale filter</code></h4>

<p><code>Scale filter</code> &#x7684;&#x4F18;&#x70B9;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;</p>
<ul>
<li>&#x4EE3;&#x7801;&#x6837;&#x5F0F;&#xFF1A;<code>Scale=width:height[:interl={1|-1}]</code></li>
<li>&#x4EE3;&#x7801;&#x4E3E;&#x4F8B;&#xFF1A;<code>ffmpeg -i input.mpg -vf scale=320:240 output.mp4</code></li>
</ul>
<p><strong>&#x5BF9;&#x8F93;&#x5165;&#x89C6;&#x9891;&#x6210;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;</strong></p>
<ul>
<li>&#x6539;&#x53D8;&#x4E3A;&#x6E90;&#x89C6;&#x9891;&#x4E00;&#x534A;&#x5927;&#x5C0F;&#xFF1A;<code>ffmpeg -i input.mpg -vf scale=iw/2:ih/2 output.mp4</code></li>
<li>&#x6539;&#x53D8;&#x4E3A;&#x539F;&#x89C6;&#x9891;&#x7684;90%&#x5927;&#x5C0F;&#xFF1A;<code>ffmpeg -i input.mpg -vf scale=iw*0.9:ih*0.9 output.mp4</code></li>
</ul>
<h2 class="mume-header" id="ffmpeg_x265_10bit%E7%BC%96%E7%A0%81">ffmpeg_x265_10bit&#x7F16;&#x7801;</h2>

<h3 class="mume-header" id="%E8%AF%B4%E6%98%8E">&#x8BF4;&#x660E;</h3>

<p>&#x5728; ffmpeg &#x4E2D;&#xFF0C;x265 &#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E; <code>-profile:v main10</code> &#x6765;&#x6307;&#x5B9A; mian10 &#x7F16;&#x7801;&#x8F93;&#x51FA;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7; <code>-pix_fmt</code> &#x6307;&#x5B9A;&#x7F16;&#x7801;&#x7684;&#x8272;&#x5F69;&#x7A7A;&#x95F4;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FBE;&#x5230; main10 &#x8F93;&#x51FA;&#x3002;</p>
<p>&#x53C2;&#x8003;&#x4EE3;&#x7801;&#xFF1A;<code>D:\ffmpeg.exe -i D:\input.mp4 -c:v libx265 -pix_fmt yuv420p10le -preset slower -acodec copy D:\&#x5DE5;&#x5177;\output.mp4</code></p>
<h3 class="mume-header" id="%E4%BB%A3%E7%A0%81">&#x4EE3;&#x7801;</h3>

<p><code>-pix_fmt yuv420p10le</code></p>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4EE5; yuv420p &#x7684; 10bit &#x8272;&#x5F69;&#x7A7A;&#x95F4;&#x7F16;&#x7801;<br>
&#x4F4D;&#x7F6E;&#xFF1A;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x5668;&#x540E;&#x9762;&#xFF0C;&#x5373; <code>-c:v</code> &#x540E;&#x8FB9;&#x3002;</p>
<ul>
<li><code>-pix_fmt</code> &#xFF1A; &#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x7684;&#x8272;&#x5F69;&#x7A7A;&#x95F4;</li>
<li><code>yuv420p10le</code> &#xFF1A; &#x53C2;&#x6570;</li>
</ul>
<h3 class="mume-header" id="%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0">&#x5176;&#x4ED6;&#x53C2;&#x6570;</h3>

<p>Pixel formats&#xFF08;&#x50CF;&#x7D20;&#x683C;&#x5F0F;&#xFF09;:<br>
I.... = Supported Input &#xA0;format for conversion<br>
.O... = Supported Output format for conversion<br>
..H.. = Hardware accelerated format<br>
...P. = Paletted format<br>
....B = Bitstream format</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x683C;&#x5F0F;&#x540D;&#x8BCD;</th>
<th style="text-align:center">NB&#x7EC4;&#x4EF6;</th>
<th style="text-align:center">&#x50CF;&#x7D20;&#x6DF1;&#x5EA6;</th>
<th style="text-align:center"></th>
<th style="text-align:center">&#x683C;&#x5F0F;&#x540D;&#x8BCD;</th>
<th style="text-align:center">NB&#x7EC4;&#x4EF6;</th>
<th style="text-align:center">&#x50CF;&#x7D20;&#x6DF1;&#x5EA6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IO... yuv420p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">12</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuyv422</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">IO... rgb24</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... bgr24</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv422p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv444p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">IO... yuvj420p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">12</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuvj422p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">IO... yuvj444p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... bgr8</td>
<td style="text-align:center">3</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">IO... nv21</td>
<td style="text-align:center">3</td>
<td style="text-align:center">12</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... argb</td>
<td style="text-align:center">4</td>
<td style="text-align:center">32</td>
</tr>
<tr>
<td style="text-align:center">IO... rgb8</td>
<td style="text-align:center">3</td>
<td style="text-align:center">8</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... rgb444le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td style="text-align:center">IO... rgba</td>
<td style="text-align:center">4</td>
<td style="text-align:center">32</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... abgr</td>
<td style="text-align:center">4</td>
<td style="text-align:center">32</td>
</tr>
<tr>
<td style="text-align:center">IO... bgra</td>
<td style="text-align:center">4</td>
<td style="text-align:center">32</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv440p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">IO... yuvj440p</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuva420p</td>
<td style="text-align:center">4</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv420p16le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv420p16be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv422p16le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">32</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv422p16be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">32</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv444p16le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">48</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv444p16be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">48</td>
</tr>
<tr>
<td style="text-align:center">IO... rgb444be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">12</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv420p10be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv420p10le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">15</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv422p10be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv422p10le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv444p10be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">30</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv444p10le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">30</td>
<td style="text-align:center"></td>
<td style="text-align:center">..H.. vdpau</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">..... nv16</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
<td style="text-align:center"></td>
<td style="text-align:center">..... nv20le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">..... nv20be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... rgba64be</td>
<td style="text-align:center">4</td>
<td style="text-align:center">64</td>
</tr>
<tr>
<td style="text-align:center">IO... rgba64le</td>
<td style="text-align:center">4</td>
<td style="text-align:center">64</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... bgra64be</td>
<td style="text-align:center">4</td>
<td style="text-align:center">64</td>
</tr>
<tr>
<td style="text-align:center">IO... bgra64le</td>
<td style="text-align:center">4</td>
<td style="text-align:center">64</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yvyu422</td>
<td style="text-align:center">3</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">I.... ya16be</td>
<td style="text-align:center">2</td>
<td style="text-align:center">32</td>
<td style="text-align:center"></td>
<td style="text-align:center">I.... ya16le</td>
<td style="text-align:center">2</td>
<td style="text-align:center">32</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv420p12be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">18</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv420p12le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">18</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv420p14be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">21</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv420p14le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">21</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv422p12be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv422p12le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv422p14be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">28</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv422p14le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">28</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv444p12be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">36</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv444p12le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">36</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv444p14be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">42</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv444p14le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">42</td>
</tr>
<tr>
<td style="text-align:center">IO... gbrp12be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">36</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... gbrp12le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">36</td>
</tr>
<tr>
<td style="text-align:center">IO... gbrp14be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">42</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... gbrp14le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">42</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv440p10le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv440p10be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">IO... yuv440p12le</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
<td style="text-align:center"></td>
<td style="text-align:center">IO... yuv440p12be</td>
<td style="text-align:center">3</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">I.... gbrap12be</td>
<td style="text-align:center">4</td>
<td style="text-align:center">48</td>
<td style="text-align:center"></td>
<td style="text-align:center">I.... gbrap12le</td>
<td style="text-align:center">4</td>
<td style="text-align:center">48</td>
</tr>
<tr>
<td style="text-align:center">I.... gbrap10be</td>
<td style="text-align:center">4</td>
<td style="text-align:center">40</td>
<td style="text-align:center"></td>
<td style="text-align:center">I.... gbrap10le</td>
<td style="text-align:center">4</td>
<td style="text-align:center">40</td>
</tr>
<tr>
<td style="text-align:center">..H.. mediacodec</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">..H.. qsv</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">..H.. d3d11va_vld</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">..H.. cuda</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">..H.. vdpau_h264</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">..H.. vaapi_vld</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">..H.. dxva2_vld</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h2 class="mume-header" id="x265-2pass">x265 2pass</h2>

<h3 class="mume-header" id="%E8%AF%B4%E6%98%8E-1">&#x8BF4;&#x660E;</h3>

<p>2pass &#x4F7F;&#x7528;&#x9700;&#x8981;&#x5148;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x7F16;&#x7801;&#xFF08;pass=1&#xFF09;&#xFF0C;1pass&#x65F6;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x7F16;&#x7801;&#x4FE1;&#x606F;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x7F16;&#x7801;&#x65F6;&#xFF08;pass=2&#xFF09;&#xFF0C;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;&#x6B64;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x6765;&#x83B7;&#x53D6;&#x672C;&#x6B21;&#x7F16;&#x7801;&#x7684;&#x6700;&#x4F73;&#x7801;&#x7387;&#xFF0C; 2pass &#x548C; crf &#x76F8;&#x6BD4;&#xFF0C;&#x65F6;&#x95F4;&#x8981;&#x591A;0.5&#x500D;&#xFF0C;&#x4F46;&#x540C;&#x4F53;&#x79EF;&#x4E0B;&#x753B;&#x8D28;&#x63D0;&#x5347;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7; 5% &#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x5212;&#x7B97;&#xFF0C;&#x9884;&#x8BBE;&#x672A;&#x5230; veryslow &#x65F6;&#x5EFA;&#x8BAE;&#x63D0;&#x9AD8;&#x9884;&#x8BBE;&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x4E0A;&#x53EF;&#x4EE5;&#x8FD8;&#x53EF;&#x4EE5;3&#x904D;&#x7F16;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x6548;&#x7387;&#x592A;&#x4F4E;&#x6CA1;&#x5565;&#x7528;&#x4E0D;&#x505A;&#x8BF4;&#x660E;&#x3002;</p>
<h3 class="mume-header" id="%E4%BB%A3%E7%A0%81-1">&#x4EE3;&#x7801;</h3>

<p>2pass &#x9700;&#x8981;&#x5148;&#x8FDB;&#x884C; 1pass &#x7136;&#x540E;&#x8FDB;&#x884C; 2pass &#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x9700;&#x8981;2&#x6BB5;&#x4EE3;&#x7801;&#x3002;</p>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%80%E9%81%8D%E4%BB%A3%E7%A0%81">&#x7B2C;&#x4E00;&#x904D;&#x4EE3;&#x7801;</h4>

<p>&#x6A21;&#x677F;&#xFF1A;<code>F:\ffmpeg.exe -i F:\1.mp4 -c:v libx265 -preset slow -x265-params &quot;pass=1:bitrate=400:vbv-maxrate=800:vbv-bufsize=1600&quot; -acodec copy -f mp4 -y nul</code></p>
<ul>
<li><code>pass=1</code> &#x544A;&#x8BC9;&#x7F16;&#x7801;&#x5668;&#x8FD9;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x7F16;&#x7801;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x751F;&#x6210;&#x7528;&#x4E8E;&#x7B2C;&#x4E8C;&#x6B21;&#x7F16;&#x7801;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;</li>
<li><code>vbv-maxrate=800:vbv-bufsize=1600:bitrate=400</code> 2pass &#x9700;&#x8981;&#x6307;&#x5B9A;&#x5E73;&#x5747;&#x7801;&#x7387;&#xFF0C;&#x6700;&#x9AD8;&#x7801;&#x7387;&#x3001;&#x7F13;&#x51B2;&#x533A;&#x5927;&#x5C0F;&#xFF0C;&#x5EFA;&#x8BAE; <code>&#x7F13;&#x51B2;&#x533A;&#x5927;&#x5C0F;=2*&#x6700;&#x9AD8;&#x7801;&#x7387;=2*&#x5E73;&#x5747;&#x7801;&#x7387;</code> &#x3002;</li>
<li><code>-f mp4</code> &#x8868;&#x793A;&#x8F93;&#x51FA;&#x5C01;&#x88C5;&#x4E3A; MP4 &#x3002;</li>
<li><code>-y nul</code> &#x8868;&#x793A;&#x8F93;&#x51FA;&#x6570;&#x636E;&#x4E3A;&#x7A7A;&#xFF0C;&#x56E0;&#x4E3A; 1pass &#x672C;&#x6765;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8F93;&#x51FA;&#x89C6;&#x9891;&#xFF0C;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E0D;&#x5C5E;&#x4E8E;&#x89C6;&#x9891;&#x8F93;&#x51FA;&#x6587;&#x4EF6;</li>
</ul>
<h4 class="mume-header" id="%E7%AC%AC%E4%BA%8C%E9%81%8D%E7%BC%96%E7%A0%81">&#x7B2C;&#x4E8C;&#x904D;&#x7F16;&#x7801;</h4>

<p>&#x6A21;&#x677F;&#xFF1A;<code>F:\ffmpeg.exe -i F:\1.mp4 -c:v libx265 -preset slow -x265-params &quot;pass=2:vbv-maxrate=800:vbv-bufsize=1600:bitrate=400&quot; -acodec copy -F:\01.mp4</code></p>
<ul>
<li><code>2pass</code> &#x4F5C;&#x7528;&#xFF0C;&#x544A;&#x8BC9;&#x7F16;&#x7801;&#x5668;&#x8FD9;&#x662F; 2pass &#x7F16;&#x7801;&#xFF0C;&#x8FD9;&#x6837;&#x7F16;&#x7801;&#x5668;&#x5C31;&#x4F1A;&#x53BB;&#x5BFB;&#x627E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</li>
</ul>
<h3 class="mume-header" id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1">&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h3>

<ul>
<li>1pass &#x65F6; <code>-preset</code> &#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x7528;&#x66F4;&#x4F4E;&#x7684;&#x9884;&#x8BBE;&#x4EE3;&#x66FF;&#xFF0C;2pass &#x65F6;&#x624D;&#x91C7;&#x7528;&#x9AD8;&#x9884;&#x8BBE;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x5E26;&#x6765;&#x65F6;&#x95F4;&#x4E0A;&#x7684;&#x8282;&#x7EA6;&#xFF0C;&#x4F46;&#x662F;&#x7801;&#x7387;&#x5206;&#x914D;&#x7684;&#x7CBE;&#x5EA6;&#x5C31;&#x4F1A;&#x964D;&#x4F4E;&#x3002;</li>
<li>&#x76EE;&#x524D;&#x6D4B;&#x8BD5; 2pass &#x4F4E;&#x4E8E; slower &#x9884;&#x8BBE;&#x65F6;&#xFF0C;1pass &#x9884;&#x8BBE;&#x53EF;&#x4EE5;&#x4F4E;&#x5230; veryfast &#xFF0C;&#x4F46;&#x662F;&#x5728; slower &#x4E0E;&#x66F4;&#x9AD8;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65E0;&#x6CD5;&#x964D;&#x4F4E; 1pass &#x9884;&#x8BBE;&#xFF0C;&#x6682;&#x65F6;&#x6CA1;&#x6709;&#x6D4B;&#x8BD5;&#x539F;&#x56E0;&#x3002;</li>
</ul>
<h2 class="mume-header" id="ffmpeg%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81">ffmpeg&#x786C;&#x4EF6;&#x89E3;&#x7801;</h2>

<h3 class="mume-header" id="%E9%80%9A%E7%94%A8%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81dxva2">&#x901A;&#x7528;&#x786C;&#x4EF6;&#x89E3;&#x7801;&#xFF1A;dxva2</h3>

<p>&#x7ECF;&#x8FC7;&#x4E2A;&#x4EBA;&#x5C1D;&#x8BD5;&#xFF0C;&#x53D1;&#x73B0;&#x4E0D;&#x8BBA;&#x662F;&#x5728; amd &#x663E;&#x5361;&#x3001;nvidia &#x663E;&#x5361;&#x3001; intel &#x663E;&#x5361;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; dxva2 &#x8FDB;&#x884C;&#x786C;&#x4EF6;&#x89E3;&#x7801;</p>
<p>&#x89E3;&#x7801;&#x7684;&#x7B97;&#x529B;&#x8981;&#x6C42;&#x51E0;&#x4E4E;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x7F16;&#x7801;&#x901F;&#x5EA6;&#x8D8A;&#x5FEB;&#xFF0C;&#x89E3;&#x7801;&#x5360;&#x7528;&#x7684;&#x603B;&#x7B97;&#x529B;&#x6BD4;&#x4F8B;&#x5C31;&#x8D8A;&#x591A;&#xFF0C;&#x786C;&#x4EF6;&#x89E3;&#x7801;&#x5C31;&#x8D8A;&#x80FD;&#x4F53;&#x73B0;&#x51FA;&#x4EF7;&#x503C;&#x6765;</p>
<h4 class="mume-header" id="%E5%8F%82%E6%95%B0%E8%AF%A6%E7%BB%86">&#x53C2;&#x6570;&#x8BE6;&#x7EC6;</h4>

<p><strong><code>-hwaccel dxva2 -threads 1</code></strong></p>
<ul>
<li>&#x53C2;&#x6570;&#x4F4D;&#x7F6E;&#xFF1A;<code>-i</code> &#x4E4B;&#x524D;</li>
<li><code>-hwaccel</code> &#x662F;&#x5F15;&#x7528;&#x89E3;&#x7801;&#x5668;&#x7684;&#x524D;&#x7F00;&#x6307;&#x793A;&#xFF0C;&#x540E;&#x9762;&#x8DDF;&#x89E3;&#x7801;&#x5668;&#x540D;&#x79F0;</li>
<li><code>dxva2</code> &#x6240;&#x5F15;&#x7528;&#x7684;&#x89E3;&#x7801;&#x5668;</li>
<li><code>-threads 1</code> threads,&#x7EBF;&#x7A0B;&#xFF0C;&#x8868;&#x793A;&#x89E3;&#x7801;&#x540E;&#x7684;&#x6570;&#x636E;&#x7531;&#x591A;&#x5C11;&#x4E2A;&#x5904;&#x7406;&#x5668;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;1&#x4E2A;&#xFF0C;&#x4F46;&#x662F;&#x63A8;&#x8350;&#x5168;&#x90E8;&#x7EBF;&#x7A0B;&#xFF0C;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;</li>
<li>&#x4F8B;&#x5B50;&#xFF1A;<code>D:\ffmpeg.exe -hwaccel dxva2 -threads 1 -i D:\input.mp4 -c:v libx265 -preset veryslow D:\out.mp4</code></li>
</ul>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>D:\ffmpeg.exe -hwaccel dxva2 -threads 1 -i D:\input.mp4 -f null - -benchmark</code>&#x6765;&#x6D4B;&#x8BD5;&#x662F;&#x5426;&#x53EF;&#x7528;</p>
<h3 class="mume-header" id="amd%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81amf">amd&#x786C;&#x4EF6;&#x89E3;&#x7801;&#xFF1A;amf</h3>

<p>&#x6682;&#x65E0;</p>
<h3 class="mume-header" id="nvidia%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81">nvidia&#x786C;&#x4EF6;&#x89E3;&#x7801;</h3>

<p>&#x6682;&#x65E0;</p>
<h2 class="mume-header" id="ffmpeg%E9%9F%B3%E9%A2%91%E8%BD%AC%E7%A0%81%E5%BE%85%E5%AE%8C%E5%96%84">ffmpeg&#x97F3;&#x9891;&#x8F6C;&#x7801;(&#x5F85;&#x5B8C;&#x5584;)</h2>

<p>ffmpeg -i input -c:a libopus -b:a bitrate output</p>
<p>Opusenc a.wav a.opus --bitrate 24 --framesize 40 --discard-comments --discard-pictures</p>
<h2 class="mume-header" id="ffmpeg%E8%8E%B7%E5%8F%96ssim%E5%92%8Cpsnr">ffmpeg&#x83B7;&#x53D6;ssim&#x548C;psnr</h2>

<h3 class="mume-header" id="%E8%AF%B4%E6%98%8E-2">&#x8BF4;&#x660E;</h3>

<p>&#x89C6;&#x9891;&#x7684; ssim &#x548C; psnr &#x662F;&#x89C6;&#x9891;&#x4E0E;&#x539F;&#x89C6;&#x9891;&#x753B;&#x9762;&#x5DEE;&#x8DDD;&#x7684;&#x6570;&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x610F;&#x4E49;&#x4E0D;&#x5927;&#xFF0C;&#x56E0;&#x4E3A;&#x672C;&#x4EBA;&#x5F55;&#x5C4F;&#x89C6;&#x9891;&#x5728;crf17.5&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;slower &#x5C45;&#x7136;&#x6BD4; veryfast &#x8981;&#x5927;&#x4E00;&#x500D;&#x4F53;&#x79EF;&#xFF0C;&#x800C;slower&#x7684; psnr &#x6BD4; veryfast &#x6570;&#x503C;&#x8981;&#x5C0F;&#xFF0C; ssim &#x8981;&#x5927;&#xFF0C;&#x4F46;&#x662F;&#x5DEE;&#x8DDD;&#x90FD;&#x975E;&#x5E38;&#x5C0F;&#x3002;<br>
&#x4F46;&#x662F;&#x5F53; veryfast &#x8C03;&#x6210; crf17 &#x65F6;&#xFF0C;&#x4F53;&#x79EF;&#x4ECD;&#x7136;&#x6BD4; crf17.5 &#x7684; slower &#x5C0F;&#x4E09;&#x5206;&#x4E4B;&#x4E00;&#xFF0C;&#x4F46;&#x662F; ssim &#x548C; psnr &#x5374;&#x540A;&#x6253; slower &#xFF0C;&#x6240;&#x4EE5;&#x611F;&#x89C9;&#x4E0D;&#x592A;&#x53EF;&#x4FE1;&#xFF0C;&#x4E50;&#x4E50;&#x5C31;&#x884C;</p>
<h4 class="mume-header" id="psnr">PSNR</h4>

<p>PSNR&#xFF08;Peak Signal to Noise Ratio&#xFF09;&#x5CF0;&#x503C;&#x4FE1;&#x566A;&#x6BD4;&#xFF0C;&#x4E00;&#x79CD;&#x5168;&#x53C2;&#x8003;&#x7684;&#x56FE;&#x50CF;&#x8D28;&#x91CF;&#x8BC4;&#x4EF7;&#x6307;&#x6807;&#x3002;</p>
<p><img src="images/psnr001.jpg" alt="PSNR&#x65B9;&#x7A0B;&#x5F0F;"></p>
<p>&#x5176;&#x4E2D;&#xFF0C;MSE&#x8868;&#x793A;&#x5F53;&#x524D;&#x56FE;&#x50CF;X&#x548C;&#x53C2;&#x8003;&#x56FE;&#x50CF;Y&#x7684;&#x5747;&#x65B9;&#x8BEF;&#x5DEE;&#xFF08;Mean Square Error&#xFF09;&#xFF0C;H&#x3001;W&#x5206;&#x522B;&#x4E3A;&#x56FE;&#x50CF;&#x7684;&#x9AD8;&#x5EA6;&#x548C;&#x5BBD;&#x5EA6;&#xFF1B;n&#x4E3A;&#x6BCF;&#x50CF;&#x7D20;&#x7684;&#x6BD4;&#x7279;&#x6570;&#xFF0C;&#x4E00;&#x822C;&#x53D6;8&#xFF0C;&#x5373;&#x50CF;&#x7D20;&#x7070;&#x9636;&#x6570;&#x4E3A;256.&#xA0;PSNR&#x7684;&#x5355;&#x4F4D;&#x662F;dB&#xFF0C;&#x6570;&#x503C;&#x8D8A;&#x5927;&#x8868;&#x793A;&#x5931;&#x771F;&#x8D8A;&#x5C0F;&#x3002;</p>
<h4 class="mume-header" id="ssim">SSIM</h4>

<p>SSIM&#xFF08;structural similarity&#xFF09;&#x7ED3;&#x6784;&#x76F8;&#x4F3C;&#x6027;&#xFF0C;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x5168;&#x53C2;&#x8003;&#x7684;&#x56FE;&#x50CF;&#x8D28;&#x91CF;&#x8BC4;&#x4EF7;&#x6307;&#x6807;&#xFF0C;&#x5B83;&#x5206;&#x522B;&#x4ECE;&#x4EAE;&#x5EA6;&#x3001;&#x5BF9;&#x6BD4;&#x5EA6;&#x3001;&#x7ED3;&#x6784;&#x4E09;&#x65B9;&#x9762;&#x5EA6;&#x91CF;&#x56FE;&#x50CF;&#x76F8;&#x4F3C;&#x6027;&#x3002;</p>
<p><img src="images/ssim001.jpg" alt="ssim&#x65B9;&#x7A0B;&#x5F0F;1"></p>
<p>&#x5176;&#x4E2D;ux&#x3001;uy&#x5206;&#x522B;&#x8868;&#x793A;&#x56FE;&#x50CF;X&#x548C;Y&#x7684;&#x5747;&#x503C;&#xFF0C;&#x3C3;X&#x3001;&#x3C3;Y&#x5206;&#x522B;&#x8868;&#x793A;&#x56FE;&#x50CF;X&#x548C;Y&#x7684;&#x65B9;&#x5DEE;&#xFF0C;&#x3C3;XY&#x8868;&#x793A;&#x56FE;&#x50CF;X&#x548C;Y&#x7684;&#x534F;&#x65B9;&#x5DEE;&#xFF0C;&#x5373;</p>
<p><img src="images/ssim002.jpg" alt="ssim&#x65B9;&#x7A0B;&#x5F0F;2"></p>
<p>C1&#x3001;C2&#x3001;C3&#x4E3A;&#x5E38;&#x6570;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x5206;&#x6BCD;&#x4E3A;0&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x901A;&#x5E38;&#x53D6;C1=(K1<em>L)^2, C2=(K2</em>L)^2, C3=C2/2, &#x4E00;&#x822C;&#x5730;K1=0.01, K2=0.03, L=255. &#x5219;</p>
<p><img src="images/ssim003.jpg" alt="ssim&#x65B9;&#x7A0B;&#x5F0F;3"></p>
<p>SSIM&#x53D6;&#x503C;&#x8303;&#x56F4;[0,1]&#xFF0C;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x8868;&#x793A;&#x56FE;&#x50CF;&#x5931;&#x771F;&#x8D8A;&#x5C0F;.</p>
<p>&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6ED1;&#x52A8;&#x7A97;&#x5C06;&#x56FE;&#x50CF;&#x5206;&#x5757;&#xFF0C;&#x4EE4;&#x5206;&#x5757;&#x603B;&#x6570;&#x4E3A;N&#xFF0C;&#x8003;&#x8651;&#x5230;&#x7A97;&#x53E3;&#x5F62;&#x72B6;&#x5BF9;&#x5206;&#x5757;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x91C7;&#x7528;&#x9AD8;&#x65AF;&#x52A0;&#x6743;&#x8BA1;&#x7B97;&#x6BCF;&#x4E00;&#x7A97;&#x53E3;&#x7684;&#x5747;&#x503C;&#x3001;&#x65B9;&#x5DEE;&#x4EE5;&#x53CA;&#x534F;&#x65B9;&#x5DEE;&#xFF0C;&#x7136;&#x540E;&#x8BA1;&#x7B97;&#x5BF9;&#x5E94;&#x5757;&#x7684;&#x7ED3;&#x6784;&#x76F8;&#x4F3C;&#x5EA6;SSIM&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x5E73;&#x5747;&#x503C;&#x4F5C;&#x4E3A;&#x4E24;&#x56FE;&#x50CF;&#x7684;&#x7ED3;&#x6784;&#x76F8;&#x4F3C;&#x6027;&#x5EA6;&#x91CF;&#xFF0C;&#x5373;&#x5E73;&#x5747;&#x7ED3;&#x6784;&#x76F8;&#x4F3C;&#x6027;MSSIM&#xFF1A;</p>
<p><img src="images/ssim004.jpg" alt="ssim&#x65B9;&#x7A0B;&#x5F0F;4"></p>
<h3 class="mume-header" id="%E4%BB%A3%E7%A0%81-2">&#x4EE3;&#x7801;</h3>

<h4 class="mume-header" id="%E8%8E%B7%E5%8F%96ssim%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81">&#x83B7;&#x53D6;ssim&#x53C2;&#x8003;&#x4EE3;&#x7801;</h4>

<p><code>F:\ffmpeg.exe -i F:\1.mp4 -i F:\1.mp4 -lavfi ssim=&quot;stats_file=ssim.log&quot; -f null -</code></p>
<ul>
<li>&#x83B7;&#x53D6;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x8F93;&#x5165;&#x89C6;&#x9891;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x89C6;&#x9891;&#x4E3A;&#x539F;&#x89C6;&#x9891;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x89C6;&#x9891;&#x4E3A;&#x8F6C;&#x7801;&#x89C6;&#x9891;&#xFF0C;&#x56E0;&#x4E3A;&#x7A0B;&#x5E8F;&#x4F1A;&#x4EE5;&#x7B2C;&#x4E00;&#x4E2A;&#x89C6;&#x9891;&#x4E3A;&#x6A21;&#x677F;&#xFF0C;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x89C6;&#x9891;&#x53BB;&#x5BF9;&#x6BD4;&#x8BA1;&#x7B97;</li>
<li><code>-lavfi ssim=&quot;stats_file=ssim.log&quot;</code> &#x4F5C;&#x7528;&#xFF1A;&#x83B7;&#x53D6;&#x5E76;&#x8F93;&#x51FA;&#x5BF9;&#x6BD4;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x6BD4;&#x6570;&#x636E;&#x6CA1;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x5730;&#x5740;&#x7684;&#x65B9;&#x6CD5;</li>
<li><code>-f null -</code> &#x4F5C;&#x7528;&#xFF1A;&#x8BBE;&#x5B9A;&#x8F93;&#x51FA;&#x4E3A;&#x7A7A;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x9700;&#x8981;&#x5BF9;&#x6BD4;&#x6570;&#x636E;&#x4E0D;&#x9700;&#x8981;&#x89C6;&#x9891;&#x8F93;&#x51FA;</li>
</ul>
<h4 class="mume-header" id="%E8%8E%B7%E5%8F%96psnr%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81">&#x83B7;&#x53D6;psnr&#x53C2;&#x8003;&#x4EE3;&#x7801;</h4>

<p><code>F:\ffmpeg.exe -i F:\1.mp4 -i F:\1.mp4 -lavfi psnr=&quot;stats_file=psnr.log&quot; -f null -</code></p>
<ul>
<li>&#x540C; ssim &#x53C2;&#x8003;&#x4EE3;&#x7801;&#x89E3;&#x6790;&#xFF0C;&#x5176;&#x5B9E; ssim &#x53C2;&#x8003;&#x4EE3;&#x7801;&#x628A; ssim &#x6539;&#x6210;psnr &#x5C31;&#x884C;&#xFF0C;&#x8FD9;&#x662F;&#x552F;&#x4E00;&#x5DEE;&#x522B;</li>
</ul>
<h4 class="mume-header" id="%E5%90%8C%E6%97%B6%E8%8E%B7%E5%8F%96ssim%E5%92%8Cpsnr%E4%BB%A3%E7%A0%81">&#x540C;&#x65F6;&#x83B7;&#x53D6;ssim&#x548C;psnr&#x4EE3;&#x7801;</h4>

<p><code>F:\ffmpeg.exe -i F:\1.mp4 -i F:\1.mp4 -lavfi &quot;ssim;[0:v][1:v]psnr&quot; -f null -</code></p>
<ul>
<li><code>&quot;ssim;[0:v][1:v]psnr&quot;</code> &#x8FD9;&#x662F;&#x6700;&#x5927;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5176;&#x4E2D; <code>[0:v]</code> &#x4F4D;&#x4E8E;&#x524D;&#x65B9;&#xFF0C;&#x8868;&#x793A;&#x7B2C;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x7684;&#x89C6;&#x9891;&#xFF0C;<code>[1:v]</code> &#x5728;&#x540E;&#x9762;&#xFF0C;&#x8868;&#x793A;&#x7B2C;&#x4E8C;&#x4E2A;&#x8F93;&#x5165;&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x5BF9;&#x6BD4;&#x65B9;&#x6CD5;&#x4E0E;&#x524D;&#x9762;&#x4E00;&#x6837;&#x3002;</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>